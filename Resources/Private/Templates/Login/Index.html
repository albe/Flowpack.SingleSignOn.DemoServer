<!DOCTYPE html>
{namespace bootstrap=Neos\Twitter\Bootstrap\ViewHelpers}
<html>
<head>
	<meta charset="utf-8">
	<title>Login - SSO Demo Server</title>
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta name="description" content="">
	<meta name="author" content="">

	<f:base/>
	<bootstrap:include version="2.1" includeJQuery="TRUE"/>
	<link href="{f:uri.resource(path: 'Stylesheets/styles.css')}" rel="stylesheet"/>
</head>
<body>

<f:render partial="Shared/Navigation" />

<div class="container-fluid">
	<div class="row-fluid">
		<div class="span12">

			<f:security.ifAuthenticated>
				<f:then>
					<div class="alert alert-warning alert-block">
						<h4 class="alert-heading">Already authenticated</h4>

						<p>
							You are already authenticated. A successful login will override the currently authenticated account and
							should notify all registrered clients.
						</p>
					</div>
				</f:then>
				<f:else>
					<div class="alert alert-warning alert-block">
						<h4 class="alert-heading">Not authenticated</h4>

						<p>
							Not authenticated yet. A succesful login with one of the accounts on the server will
							redirect back to a SSO client (if in the middle of a SSO authentication).
						</p>
					</div>

				</f:else>
			</f:security.ifAuthenticated>

			<f:form action="authenticate">
				<div class="modal">
					<div class="modal-header">
						<h3>Login</h3>
					</div>
					<div class="modal-body">
						<f:flashMessages/>

						<label for="field-username">Username</label>
						<input type="text"
							   id="field-username"
							   name="__authentication[TYPO3][Flow][Security][Authentication][Token][UsernamePassword][username]"
							   tabindex="1"/>
						<label for="field-password">Password</label>
						<input type="password"
							   id="field-password"
							   name="__authentication[TYPO3][Flow][Security][Authentication][Token][UsernamePassword][password]"
							   tabindex="2"/>

					</div>
					<div class="modal-footer">
						<input type="submit" value="Login" class="btn pull-left"/>
					</div>
				</div>
			</f:form>
		</div>
	</div>
</div>
</body>
</html>